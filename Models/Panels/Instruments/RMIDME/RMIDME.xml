<?xml version="1.0"?>

<!--
    :copyright: 2023, IAHM-COL
    License: GPLv3
    
    Redistribution, or reuse, with or without modifications
    shall keep this attribution information. 
-->

<PropertyList>
  <path>RMIDME.ac</path>

  <text>
    <name>dist1</name>
    <font>lcd.txf</font>
    <character-size type="double">0.0045</character-size>
    <offsets>
      <x-m>0.005814</x-m>
      <y-m>-0.009021</y-m>
      <z-m>0.03587</z-m>
    </offsets>
    <axis-alignment>yz-plane</axis-alignment>
    <type type="string">number-value</type>
    <format type="string">%3.1f</format>
    <truncate type="bool">false</truncate>
    <character-aspect-ratio type="double">1</character-aspect-ratio>
    <property>fdm/jsbsim/instruments/RMIDME/ch1/display/dme</property>    
    <alignment>right-top</alignment>
  </text>
  
  <text>
    <name>dist2</name>
    <font>lcd.txf</font>
    <character-size type="double">0.0045</character-size>
    <offsets>
      <x-m>0.005814</x-m>
      <y-m>0.02681</y-m>
      <z-m>0.03587</z-m>
    </offsets>
    <axis-alignment>yz-plane</axis-alignment>
    <type type="string">number-value</type>
    <format type="string">%3.1f</format>
    <truncate type="bool">false</truncate>
    <character-aspect-ratio type="double">1</character-aspect-ratio>
    <property>fdm/jsbsim/instruments/RMIDME/ch2/display/dme</property>    
    <alignment>right-top</alignment>
  </text>

  <text>
    <name>dme1-flagged</name>
    <font>lcd.txf</font>
    <character-size type="double">0.0045</character-size>
    <offsets>
      <x-m>0.005814</x-m>
      <y-m>-0.009021</y-m>
      <z-m>0.03587</z-m>
    </offsets>
    <axis-alignment>yz-plane</axis-alignment>
    <type type="string">literal</type>
    <text type="string">----</text>
    <character-aspect-ratio type="double">1</character-aspect-ratio>
    <alignment>right-top</alignment>
  </text>
  
  <text>
    <name>adf1-text</name>
    <font>lcd.txf</font>
    <character-size type="double">0.0045</character-size>
    <offsets>
      <x-m>0.005814</x-m>
      <y-m>-0.009021</y-m>
      <z-m>0.03587</z-m>
    </offsets>
    <axis-alignment>yz-plane</axis-alignment>
    <type type="string">literal</type>
    <text type="string">A D F</text>
    <character-aspect-ratio type="double">1</character-aspect-ratio>
    <alignment>right-top</alignment>
  </text>
  
  <text>
    <name>dme2-flagged</name>
    <font>lcd.txf</font>
    <character-size type="double">0.0045</character-size>
    <offsets>
      <x-m>0.005814</x-m>
      <y-m>0.02681</y-m>
      <z-m>0.03587</z-m>
    </offsets>
    <axis-alignment>yz-plane</axis-alignment>
    <type type="string">literal</type>
    <text type="string">----</text>
    <character-aspect-ratio type="double">1</character-aspect-ratio>
    <alignment>right-top</alignment>
  </text>

  <text>
    <name>adf2-text</name>
    <font>lcd.txf</font>
    <character-size type="double">0.0045</character-size>
    <offsets>
      <x-m>0.005814</x-m>
      <y-m>0.02681</y-m>
      <z-m>0.03587</z-m>
    </offsets>
    <axis-alignment>yz-plane</axis-alignment>
    <type type="string">literal</type>
    <text type="string">A D F</text>
    <character-aspect-ratio type="double">1</character-aspect-ratio>
    <alignment>right-top</alignment>
  </text>
  
  <animation>
    <object-name>dist1</object-name>
    <object-name>dist2</object-name>
    <object-name>dme1-flagged</object-name>
    <object-name>dme2-flagged</object-name>
    <object-name>adf1-text</object-name>
    <object-name>adf2-text</object-name>
    <type>material</type>
    <emission>
      <factor-prop>fdm/jsbsim/instruments/panel-lighting/ledlight-status</factor-prop>
      <red>0.0</red>
      <green>1.0</green>
      <blue>1.0</blue>
    </emission>
  </animation>

  <animation>
    <type>select</type>   
    <object-name>dist1</object-name> 
    <condition>
      <and>
	<or>
	  <equals>
	    <property>fdm/jsbsim/instruments/RMIDME/ch1/select</property>
	    <value>1</value>
	  </equals>
	  <equals>
	    <property>fdm/jsbsim/instruments/RMIDME/ch1/select</property>
	    <value>2</value>
	  </equals>
	</or>
	<equals>
	  <property>fdm/jsbsim/instruments/RMIDME/ch1/display/flag</property>
	  <value>0</value>
	</equals>
      </and>
    </condition>
  </animation>

  <animation>
    <type>select</type>   
    <object-name>dme1-flagged</object-name> 
    <condition>
      <and>
	<or>
	  <equals>
	    <property>fdm/jsbsim/instruments/RMIDME/ch1/select</property>
	    <value>1</value>
	  </equals>
	  <equals>
	    <property>fdm/jsbsim/instruments/RMIDME/ch1/select</property>
	    <value>2</value>
	  </equals>
	</or>
	<equals>
	  <property>fdm/jsbsim/instruments/RMIDME/ch1/display/flag</property>
	  <value>1</value>
	</equals>
      </and>
    </condition>
  </animation>

  <animation>
    <type>select</type>   
    <object-name>adf1-text</object-name> 
    <condition>
      <equals>
	<property>fdm/jsbsim/instruments/RMIDME/ch1/select</property>
	<value>0</value>
      </equals>
    </condition>
  </animation>
  
  <animation>
    <type>select</type>   
    <object-name>dist2</object-name> 
    <condition>
      <and>
	<or>
	  <equals>
	    <property>fdm/jsbsim/instruments/RMIDME/ch2/select</property>
	    <value>1</value>
	  </equals>
	  <equals>
	    <property>fdm/jsbsim/instruments/RMIDME/ch2/select</property>
	    <value>2</value>
	  </equals>
	</or>
	<equals>
	  <property>fdm/jsbsim/instruments/RMIDME/ch2/display/flag</property>
	  <value>0</value>
	</equals>
      </and>
    </condition>
  </animation>

  <animation>
    <type>select</type>   
    <object-name>dme2-flagged</object-name> 
    <condition>
      <and>
	<or>
	  <equals>
	    <property>fdm/jsbsim/instruments/RMIDME/ch2/select</property>
	    <value>1</value>
	  </equals>
	  <equals>
	    <property>fdm/jsbsim/instruments/RMIDME/ch2/select</property>
	    <value>2</value>
	  </equals>
	</or>
	<equals>
	  <property>fdm/jsbsim/instruments/RMIDME/ch2/display/flag</property>
	  <value>1</value>
	</equals>
      </and>
    </condition>
  </animation>

  <animation>
    <type>select</type>   
    <object-name>adf2-text</object-name> 
    <condition>
      <equals>
	<property>fdm/jsbsim/instruments/RMIDME/ch2/select</property>
	<value>0</value>
      </equals>
    </condition>
  </animation>

  <animation>
    <type>select</type>   
    <object-name>nav1.flag</object-name> 
    <condition>
      <equals>
	<property>fdm/jsbsim/instruments/RMIDME/ch1/display/flag</property>
	<value>1</value>
      </equals>
    </condition>
  </animation>

  <animation>
    <type>select</type>   
    <object-name>nav2.flag</object-name> 
    <condition>
      <equals>
	<property>fdm/jsbsim/instruments/RMIDME/ch2/display/flag</property>
	<value>1</value>
      </equals>
    </condition>
  </animation>

  <animation>
    <object-name>nav1.guide</object-name>
    <type>rotate</type>
    <property>fdm/jsbsim/instruments/RMIDME/ch1/display/signal-rotation</property>
    <center>
      <x-m>0.003676</x-m>
      <y-m>0</y-m>
      <z-m>-0.015723</z-m>
    </center>
    <axis>
      <x>1</x><y>0</y><z>0</z>
    </axis>
  </animation>

  <animation>
    <object-name>nav2.guide</object-name>
    <type>rotate</type>
    <property>fdm/jsbsim/instruments/RMIDME/ch2/display/signal-rotation</property>
    <center>
      <x-m>0.003676</x-m>
      <y-m>0</y-m>
      <z-m>-0.015723</z-m>
    </center>
    <axis>
      <x>1</x><y>0</y><z>0</z>
    </axis>
  </animation>

  <animation>
    <object-name>rose</object-name>
    <type>rotate</type>
    <property>fdm/jsbsim/instruments/RMIDME/heading-offset</property>
    <center>
      <x-m>0.003676</x-m>
      <y-m>0</y-m>
      <z-m>-0.015723</z-m>
    </center>
    <axis>
      <x>1</x><y>0</y><z>0</z>
    </axis>
  </animation>
  
  <animation>
    <type>pick</type>
    <object-name>hdg.knob</object-name>
    <action>
      <button>0</button>
      <repeatable>false</repeatable>
      <interval-sec>0.2</interval-sec>
      <binding>
	<command>property-assign</command>
	<property>fdm/jsbsim/instruments/RMIDME/heading-offset</property>
	<property>/orientation/heading-magnetic-deg</property>
      </binding>
    </action>
    <action>
      <button>1</button>
      <repeatable>false</repeatable>
      <interval-sec>0.2</interval-sec>
      <binding>
	<command>property-assign</command>
	<property>fdm/jsbsim/instruments/RMIDME/heading-offset</property>
	<value>0</value>
      </binding>
    </action>
  </animation>

  
  <animation>
    <type>knob</type>
    <object-name>hdg.knob</object-name>
    <property>fdm/jsbsim/instruments/RMIDME/heading-offset</property>
    <center>
      <x-m>0.007651</x-m>
      <y-m>-0.031478</y-m>
      <z-m>-0.041358</z-m>
    </center>
    <axis>
      <x>-1</x><y>0</y><z>0</z>
    </axis>
    
    <action>
      <binding>
        <command>property-adjust</command>
        <property>fdm/jsbsim/instruments/RMIDME/heading-offset</property>
        <factor>1</factor>
        <min>0</min>
        <max>360</max>                
        <wrap>true</wrap>
      </binding>
    </action>
  </animation>
  
  <!-- Lightmaps-->
  <effect>
    <inherits-from>backlighting</inherits-from>
    <object-name>rose</object-name>
    <object-name>nav1.flag</object-name>
    <object-name>nav1.guide</object-name>
    <object-name>nav1-dme.lcd</object-name>
    <object-name>nav2.flag</object-name>
    <object-name>nav2.guide</object-name>
    <object-name>nav2-dme.lcd</object-name>
    <object-name>mark.000</object-name>
    <object-name>mark.045</object-name>
    <object-name>mark.090</object-name>
    <object-name>mark.135</object-name>
    <object-name>mark.180</object-name>
    <object-name>mark.225</object-name>
    <object-name>mark.270</object-name>
    <object-name>mark.315</object-name>
  </effect>
  <effect>
    <inherits-from>floodlighting</inherits-from>
    <object-name>frame</object-name>
    <object-name>screw.hi.1</object-name>
    <object-name>screw.hi.2</object-name>
    <object-name>screw.hi.3</object-name>
    <object-name>hdg.knob</object-name>
  </effect>
</PropertyList>
