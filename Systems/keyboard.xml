<?xml version="1.0" encoding="UTF-8"?>

<PropertyList>

  <key n="4">
    <name>Ctrl-d</name>
    <desc>Open/close Ramp</desc>
    <binding>
      <command>nasal</command>
      <script>doors.doorsystem.rampexport();</script>
    </binding>
  </key>

  <key n="127">
    <name>Delete</name>
    <desc>Toggle Reversers</desc>
    <binding>
      <command>nasal</command>
      <script>reversethrust.togglereverser()</script>
    </binding>
  </key>	

  <key n="109">
    <name>m</name>
    <desc>engage nose wheel steering</desc>
    <binding>
      <command>property-assign</command>
      <property>fdm/jsbsim/systems/NWS/engaged</property>
      <value>1</value> 
    </binding>
    <mod-up>
      <binding>
	<command>property-assign</command>
	<property>fdm/jsbsim/systems/NWS/engaged</property>
        <value>0</value> 
      </binding>
    </mod-up>
  </key>

  <key n="108">
    <name>l</name>
    <desc>Jump signal</desc>
    <binding>
      <command>property-toggle</command>
      <property>instrumentation/paras/trigger</property>
      <value type="bool">true</value>
    </binding>
    <mod-up>
      <binding>
	<command>property-assign</command>
	<property>instrumentation/paras/trigger</property>
	<value type="bool">false</value>
      </binding>
    </mod-up>
  </key>
  
  <key n="102">
    <name>f</name>
    <desc>Trigger flare release</desc>
    <binding>
      <command>property-toggle</command>
      <property>ai/submodels/submodel/flare-release</property>
      <value type="bool">true</value>
    </binding>
    <mod-up>
      <binding>
	<command>property-assign</command>
	<property>ai/submodels/submodel/flare-release</property>
	<value type="bool">false</value>
      </binding>
    </mod-up>
  </key>

  <key n="71">
    <!-- overriding default gears to obey the gear lock -->
    <name>G</name>
    <desc>G for gears lever</desc>
    <binding>
      <condition>
	<not><property>fdm/jsbsim/instruments/gearsLever/safety-lock</property></not>
      </condition>
      <command>nasal</command>
      <script>controls.gearDown(1)</script>
    </binding>
    <mod-up>
      <binding>
	<condition>
	  <not><property>fdm/jsbsim/instruments/gearsLever/safety-lock</property></not>
	</condition>
	<command>nasal</command>
	<script>controls.gearDown(0)</script>
      </binding>
    </mod-up>
  </key>
  
  <key n="83">
    <name>Shift-s</name>
    <desc>Multipliers adjustments</desc>
    <binding>
      <command>nasal</command>
      <script>
	var multipliers = gui.Dialog.new("sim/gui/dialogs/Multipliers/dialog", "Dialogs/multipliers.xml");
	multipliers.open();
      </script>
    </binding>
  </key>

  <key n="2">
    <name>Ctrl-b</name>
    <desc>Extend spoilers</desc>
    <repeatable type="bool">true</repeatable>
    <binding>
      <command>nasal</command>
      <script>controls.stepSpoilers(1);</script>
    </binding>
    <binding>
      <command>property-assign</command>
      <property>/sim/spoilers/retraction-commanded</property>
      <value>false</value>
    </binding>
  </key>

  <key n="98">
    <name>Alt-b</name>
    <desc>Retract spoilers</desc>
    <repeatable type="bool">true</repeatable>
    <mod-alt>
      <binding>
	<command>nasal</command>
	<script>controls.stepSpoilers(-1);</script>
      </binding>
      <binding>
	<!--
	    Permit ground spoiler cancelation after touchdown
	<condition>
	  <property>instruments/gears/touchdown</property>
	</condition>
	-->
	<command>property-assign</command>
	<property>/sim/spoilers/retraction-commanded</property>
	<value>true</value>
      </binding>
    </mod-alt>
  </key>

  <!-- Keyboard configuration of trim adjustments -->
  <key n="97">
    <name>a</name> <!-- cancels binding for sim rate -->
    <desc>Aileron Trim</desc>
    <repeatable type="bool">true</repeatable>
    <binding>
      <command>property-adjust</command>
      <property>/controls/flight/aileron-trim</property>
      <step>-0.01</step>
      <min>-1</min>
      <max>1</max>
      <wrap>false</wrap>      
    </binding>
    <mod-up>
      <binding>
	<command>property-assign</command>
	<property>/controls/flight/aileron-trim</property>
	<property>/fdm/jsbsim/fcs/trim-actuators/roll/actuator</property>
      </binding>
    </mod-up>
    <mod-alt>
      <binding>
	<command>property-assign</command>
	<property>/controls/flight/aileron-trim</property>
	<value>0.0</value>
      </binding>
    </mod-alt>
  </key>

  <key n="65">
    <name>A</name>
    <desc>Aileron Trim</desc>
    <repeatable type="bool">true</repeatable>
    <binding>
      <command>property-adjust</command>
      <property>/controls/flight/aileron-trim</property>
      <step>0.01</step>
      <min>-1</min>
      <max>1</max>
      <wrap>false</wrap>      
    </binding>
    <mod-up>
      <binding>
	<command>property-assign</command>
	<property>/controls/flight/aileron-trim</property>
	<property>/fdm/jsbsim/fcs/trim-actuators/roll/actuator</property>
      </binding>
    </mod-up>
  </key>
  
  <key n="114">
    <name>r</name>
    <desc>Rudder Trim</desc>
    <repeatable type="bool">true</repeatable>
    <binding>
      <command>property-adjust</command>
      <property>/controls/flight/rudder-trim</property>
      <step>-0.01</step>
      <min>-1</min>
      <max>1</max>
      <wrap>false</wrap>      
    </binding>
    <mod-up>
      <binding>
	<command>property-assign</command>
	<property>/controls/flight/rudder-trim</property>
	<property>/fdm/jsbsim/fcs/trim-actuators/yaw/actuator</property>
      </binding>
    </mod-up>
    <mod-alt>
      <binding>
	<command>property-assign</command>
	<property>/controls/flight/rudder-trim</property>
	<value>0.0</value>
      </binding>
    </mod-alt>
  </key>

  <key n="82">
    <name>R</name>
    <desc>Rudder Trim</desc>
    <repeatable type="bool">true</repeatable>
    <binding>
      <command>property-adjust</command>
      <property>/controls/flight/rudder-trim</property>
      <step>0.01</step>
      <min>-1</min>
      <max>1</max>
      <wrap>false</wrap>      
    </binding>
    <mod-up>
      <binding>
	<command>property-assign</command>
	<property>/controls/flight/rudder-trim</property>
	<property>/fdm/jsbsim/fcs/trim-actuators/yaw/actuator</property>
      </binding>
    </mod-up>
  </key>

  <key n="110">
    <name>n</name>
    <desc>Elevator Trim</desc><!-- _n_ose up or down -->
    <repeatable type="bool">true</repeatable>
    <binding>
      <command>property-adjust</command>
      <property>/controls/flight/elevator-trim</property>
      <step>-0.01</step>
      <min>-1</min>
      <max>1</max>
      <wrap>false</wrap>      
    </binding>
    <mod-up>
      <binding>
	<command>property-assign</command>
	<property>/controls/flight/elevator-trim</property>
	<property>/fdm/jsbsim/fcs/trim-actuators/pitch/actuator</property>
      </binding>
    </mod-up>
    <mod-alt>
      <binding>
	<command>property-assign</command>
	<property>/controls/flight/elevator-trim</property>
	<value>0.0</value>
      </binding>
    </mod-alt>
  </key>

  <key n="78">
    <name>N</name>
    <desc>Elevator Trim</desc>
    <repeatable type="bool">true</repeatable>
    <binding>
      <command>property-adjust</command>
      <property>/controls/flight/elevator-trim</property>
      <step>0.01</step>
      <min>-1</min>
      <max>1</max>
      <wrap>false</wrap>      
    </binding>
    <mod-up>
      <binding>
	<command>property-assign</command>
	<property>/controls/flight/elevator-trim</property>
	<property>/fdm/jsbsim/fcs/trim-actuators/pitch/actuator</property>
      </binding>
    </mod-up>
  </key>

</PropertyList>

